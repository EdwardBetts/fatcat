{% extends "base.html" %}

{% block title %}Account Settings{% endblock %}

{% block body %}

<h1 class="ui header">
  <i class="settings icon"></i>
  Account Settings
</h1>

<p><b>Username:</b> <code>{{ current_user.username }}</code>
<p><b>Editor Id:</b> <code><a href="/editor/{{ current_user.editor_id }}">{{ current_user.editor_id }}</a></code>

<br>
<div class="ui segment">
<h3 class="ui header">Change Username</h3>
<form class="" role="change_username" action="/auth/change_username" method="post">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
  <div class="ui form">
    <div class="ui action input medium">
      <input type="text" name="username" value="{{ current_user.username }}" aria-label="account username">
      <button class="ui red button">Update</button>
    </div>
  </div>
</form>
</div>

<div class="ui segment">
<h3 class="ui header">Create API Token</h3>
<form class="" role="change_username" action="/auth/create_token" method="post">
  <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
  <div class="ui form">
    <button class="ui green button" style="float: right;">Create Token</button>
    <div class="field" style="width: 20em; clear: unset;">
      <input type="text" name="duration_seconds" id="duration_seconds" aria-label="token valid duration (seconds)" placeholder="default 31 days">
      <label for="duration_seconds">Token Validity Duration (seconds; optional)</label>
    </div>
  </div>
</form>
</div>

<br>
<p>In the future, you will be able to...
<ul>
  <li>Create and manage bot accounts
</ul>

{% endblock %}
